{"ast":null,"code":"var _jsxFileName = \"/Users/matthewmcelwee/fcprepos/webtest1/flex-template-web/src/containers/ListingPage/SectionMapMaybe.js\";\nimport React, { Component } from 'react';\nimport { string } from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport classNames from 'classnames';\nimport { propTypes } from '../../util/types';\nimport { obfuscatedCoordinates } from '../../util/maps';\nimport { Map } from '../../components';\nimport config from '../../config';\nimport css from './ListingPage.css';\n\nclass SectionMapMaybe extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isStatic: true\n    };\n  }\n\n  render() {\n    const _this$props = this.props,\n          className = _this$props.className,\n          rootClassName = _this$props.rootClassName,\n          geolocation = _this$props.geolocation,\n          publicData = _this$props.publicData,\n          listingId = _this$props.listingId;\n\n    if (!geolocation) {\n      return null;\n    }\n\n    const address = publicData && publicData.location ? publicData.location.address : '';\n    const classes = classNames(rootClassName || css.sectionMap, className);\n    const cacheKey = listingId ? \"\".concat(listingId.uuid, \"_\").concat(geolocation.lat, \"_\").concat(geolocation.lng) : null;\n    const mapProps = config.maps.fuzzy.enabled ? {\n      obfuscatedCenter: obfuscatedCoordinates(geolocation, cacheKey)\n    } : {\n      address,\n      center: geolocation\n    };\n    const map = React.createElement(Map, Object.assign({}, mapProps, {\n      useStaticMap: this.state.isStatic,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }));\n    return React.createElement(\"div\", {\n      className: classes,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: css.locationTitle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(FormattedMessage, {\n      id: \"ListingPage.locationTitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    })), this.state.isStatic ? React.createElement(\"button\", {\n      className: css.map,\n      onClick: () => {\n        this.setState({\n          isStatic: false\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, map) : React.createElement(\"div\", {\n      className: css.map,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, map));\n  }\n\n}\n\nSectionMapMaybe.defaultProps = {\n  rootClassName: null,\n  className: null,\n  geolocation: null,\n  listingId: null\n};\nSectionMapMaybe.propTypes = {\n  rootClassName: string,\n  className: string,\n  geolocation: propTypes.latlng,\n  listingId: propTypes.uuid\n};\nexport default SectionMapMaybe;","map":{"version":3,"sources":["/Users/matthewmcelwee/fcprepos/webtest1/flex-template-web/src/containers/ListingPage/SectionMapMaybe.js"],"names":["React","Component","string","FormattedMessage","classNames","propTypes","obfuscatedCoordinates","Map","config","css","SectionMapMaybe","constructor","props","state","isStatic","render","className","rootClassName","geolocation","publicData","listingId","address","location","classes","sectionMap","cacheKey","uuid","lat","lng","mapProps","maps","fuzzy","enabled","obfuscatedCenter","center","map","locationTitle","setState","defaultProps","latlng"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { string } from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport classNames from 'classnames';\nimport { propTypes } from '../../util/types';\nimport { obfuscatedCoordinates } from '../../util/maps';\nimport { Map } from '../../components';\nimport config from '../../config';\n\nimport css from './ListingPage.css';\n\nclass SectionMapMaybe extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { isStatic: true };\n  }\n\n  render() {\n    const { className, rootClassName, geolocation, publicData, listingId } = this.props;\n\n    if (!geolocation) {\n      return null;\n    }\n\n    const address = publicData && publicData.location ? publicData.location.address : '';\n    const classes = classNames(rootClassName || css.sectionMap, className);\n    const cacheKey = listingId ? `${listingId.uuid}_${geolocation.lat}_${geolocation.lng}` : null;\n\n    const mapProps = config.maps.fuzzy.enabled\n      ? { obfuscatedCenter: obfuscatedCoordinates(geolocation, cacheKey) }\n      : { address, center: geolocation };\n    const map = <Map {...mapProps} useStaticMap={this.state.isStatic} />;\n\n    return (\n      <div className={classes}>\n        <h2 className={css.locationTitle}>\n          <FormattedMessage id=\"ListingPage.locationTitle\" />\n        </h2>\n        {this.state.isStatic ? (\n          <button\n            className={css.map}\n            onClick={() => {\n              this.setState({ isStatic: false });\n            }}\n          >\n            {map}\n          </button>\n        ) : (\n          <div className={css.map}>{map}</div>\n        )}\n      </div>\n    );\n  }\n}\n\nSectionMapMaybe.defaultProps = {\n  rootClassName: null,\n  className: null,\n  geolocation: null,\n  listingId: null,\n};\n\nSectionMapMaybe.propTypes = {\n  rootClassName: string,\n  className: string,\n  geolocation: propTypes.latlng,\n  listingId: propTypes.uuid,\n};\n\nexport default SectionMapMaybe;\n"]},"metadata":{},"sourceType":"module"}