{"ast":null,"code":"var _jsxFileName = \"/Users/matthewmcelwee/fcprepos/webtest1/flex-template-web/src/components/BookingBreakdown/BookingBreakdown.js\";\n\n/**\n * This component will show the booking info and calculated total price.\n * I.e. dates and other details related to payment decision in receipt format.\n */\nimport React from 'react';\nimport { oneOf, string } from 'prop-types';\nimport { FormattedMessage, intlShape, injectIntl } from 'react-intl';\nimport classNames from 'classnames';\nimport { propTypes, LINE_ITEM_CUSTOMER_COMMISSION, LINE_ITEM_PROVIDER_COMMISSION } from '../../util/types';\nimport LineItemUnitPriceMaybe from './LineItemUnitPriceMaybe';\nimport LineItemBookingPeriod from './LineItemBookingPeriod';\nimport LineItemUnitsMaybe from './LineItemUnitsMaybe';\nimport LineItemSubTotalMaybe from './LineItemSubTotalMaybe';\nimport LineItemCustomerCommissionMaybe from './LineItemCustomerCommissionMaybe';\nimport LineItemCustomerCommissionRefundMaybe from './LineItemCustomerCommissionRefundMaybe';\nimport LineItemProviderCommissionMaybe from './LineItemProviderCommissionMaybe';\nimport LineItemProviderCommissionRefundMaybe from './LineItemProviderCommissionRefundMaybe';\nimport LineItemRefundMaybe from './LineItemRefundMaybe';\nimport LineItemTotalPrice from './LineItemTotalPrice';\nimport LineItemUnknownItemsMaybe from './LineItemUnknownItemsMaybe';\nimport css from './BookingBreakdown.css';\nexport const BookingBreakdownComponent = props => {\n  const rootClassName = props.rootClassName,\n        className = props.className,\n        userRole = props.userRole,\n        unitType = props.unitType,\n        transaction = props.transaction,\n        booking = props.booking,\n        intl = props.intl;\n  const isCustomer = userRole === 'customer';\n  const isProvider = userRole === 'provider';\n  const hasCommissionLineItem = transaction.attributes.lineItems.find(item => {\n    const hasCustomerCommission = isCustomer && item.code === LINE_ITEM_CUSTOMER_COMMISSION;\n    const hasProviderCommission = isProvider && item.code === LINE_ITEM_PROVIDER_COMMISSION;\n    return (hasCustomerCommission || hasProviderCommission) && !item.reversal;\n  });\n  const classes = classNames(rootClassName || css.root, className);\n  return React.createElement(\"div\", {\n    className: classes,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(LineItemUnitPriceMaybe, {\n    transaction: transaction,\n    unitType: unitType,\n    intl: intl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }), React.createElement(LineItemBookingPeriod, {\n    transaction: transaction,\n    booking: booking,\n    unitType: unitType,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }), React.createElement(LineItemUnitsMaybe, {\n    transaction: transaction,\n    unitType: unitType,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), React.createElement(LineItemUnknownItemsMaybe, {\n    transaction: transaction,\n    intl: intl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }), React.createElement(LineItemSubTotalMaybe, {\n    transaction: transaction,\n    unitType: unitType,\n    userRole: userRole,\n    intl: intl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), React.createElement(LineItemRefundMaybe, {\n    transaction: transaction,\n    intl: intl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }), React.createElement(LineItemCustomerCommissionMaybe, {\n    transaction: transaction,\n    isCustomer: isCustomer,\n    intl: intl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), React.createElement(LineItemCustomerCommissionRefundMaybe, {\n    transaction: transaction,\n    isCustomer: isCustomer,\n    intl: intl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }), React.createElement(LineItemProviderCommissionMaybe, {\n    transaction: transaction,\n    isProvider: isProvider,\n    intl: intl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }), React.createElement(LineItemProviderCommissionRefundMaybe, {\n    transaction: transaction,\n    isProvider: isProvider,\n    intl: intl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }), React.createElement(\"hr\", {\n    className: css.totalDivider,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), React.createElement(LineItemTotalPrice, {\n    transaction: transaction,\n    isProvider: isProvider,\n    intl: intl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }), hasCommissionLineItem ? React.createElement(\"span\", {\n    className: css.feeInfo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(FormattedMessage, {\n    id: \"BookingBreakdown.commissionFeeNote\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  })) : null);\n};\nBookingBreakdownComponent.defaultProps = {\n  rootClassName: null,\n  className: null\n};\nBookingBreakdownComponent.propTypes = {\n  rootClassName: string,\n  className: string,\n  userRole: oneOf(['customer', 'provider']).isRequired,\n  unitType: propTypes.bookingUnitType.isRequired,\n  transaction: propTypes.transaction.isRequired,\n  booking: propTypes.booking.isRequired,\n  // from injectIntl\n  intl: intlShape.isRequired\n};\nconst BookingBreakdown = injectIntl(BookingBreakdownComponent);\nBookingBreakdown.displayName = 'BookingBreakdown';\nexport default BookingBreakdown;","map":{"version":3,"sources":["/Users/matthewmcelwee/fcprepos/webtest1/flex-template-web/src/components/BookingBreakdown/BookingBreakdown.js"],"names":["React","oneOf","string","FormattedMessage","intlShape","injectIntl","classNames","propTypes","LINE_ITEM_CUSTOMER_COMMISSION","LINE_ITEM_PROVIDER_COMMISSION","LineItemUnitPriceMaybe","LineItemBookingPeriod","LineItemUnitsMaybe","LineItemSubTotalMaybe","LineItemCustomerCommissionMaybe","LineItemCustomerCommissionRefundMaybe","LineItemProviderCommissionMaybe","LineItemProviderCommissionRefundMaybe","LineItemRefundMaybe","LineItemTotalPrice","LineItemUnknownItemsMaybe","css","BookingBreakdownComponent","props","rootClassName","className","userRole","unitType","transaction","booking","intl","isCustomer","isProvider","hasCommissionLineItem","attributes","lineItems","find","item","hasCustomerCommission","code","hasProviderCommission","reversal","classes","root","totalDivider","feeInfo","defaultProps","isRequired","bookingUnitType","BookingBreakdown","displayName"],"mappings":"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","sourcesContent":["/**\n * This component will show the booking info and calculated total price.\n * I.e. dates and other details related to payment decision in receipt format.\n */\nimport React from 'react';\nimport { oneOf, string } from 'prop-types';\nimport { FormattedMessage, intlShape, injectIntl } from 'react-intl';\nimport classNames from 'classnames';\nimport {\n  propTypes,\n  LINE_ITEM_CUSTOMER_COMMISSION,\n  LINE_ITEM_PROVIDER_COMMISSION,\n} from '../../util/types';\n\nimport LineItemUnitPriceMaybe from './LineItemUnitPriceMaybe';\nimport LineItemBookingPeriod from './LineItemBookingPeriod';\nimport LineItemUnitsMaybe from './LineItemUnitsMaybe';\nimport LineItemSubTotalMaybe from './LineItemSubTotalMaybe';\nimport LineItemCustomerCommissionMaybe from './LineItemCustomerCommissionMaybe';\nimport LineItemCustomerCommissionRefundMaybe from './LineItemCustomerCommissionRefundMaybe';\nimport LineItemProviderCommissionMaybe from './LineItemProviderCommissionMaybe';\nimport LineItemProviderCommissionRefundMaybe from './LineItemProviderCommissionRefundMaybe';\nimport LineItemRefundMaybe from './LineItemRefundMaybe';\nimport LineItemTotalPrice from './LineItemTotalPrice';\nimport LineItemUnknownItemsMaybe from './LineItemUnknownItemsMaybe';\n\nimport css from './BookingBreakdown.css';\n\nexport const BookingBreakdownComponent = props => {\n  const { rootClassName, className, userRole, unitType, transaction, booking, intl } = props;\n\n  const isCustomer = userRole === 'customer';\n  const isProvider = userRole === 'provider';\n\n  const hasCommissionLineItem = transaction.attributes.lineItems.find(item => {\n    const hasCustomerCommission = isCustomer && item.code === LINE_ITEM_CUSTOMER_COMMISSION;\n    const hasProviderCommission = isProvider && item.code === LINE_ITEM_PROVIDER_COMMISSION;\n    return (hasCustomerCommission || hasProviderCommission) && !item.reversal;\n  });\n\n  const classes = classNames(rootClassName || css.root, className);\n\n  return (\n    <div className={classes}>\n      <LineItemUnitPriceMaybe transaction={transaction} unitType={unitType} intl={intl} />\n      <LineItemBookingPeriod transaction={transaction} booking={booking} unitType={unitType} />\n      <LineItemUnitsMaybe transaction={transaction} unitType={unitType} />\n\n      <LineItemUnknownItemsMaybe transaction={transaction} intl={intl} />\n\n      <LineItemSubTotalMaybe\n        transaction={transaction}\n        unitType={unitType}\n        userRole={userRole}\n        intl={intl}\n      />\n      <LineItemRefundMaybe transaction={transaction} intl={intl} />\n\n      <LineItemCustomerCommissionMaybe\n        transaction={transaction}\n        isCustomer={isCustomer}\n        intl={intl}\n      />\n      <LineItemCustomerCommissionRefundMaybe\n        transaction={transaction}\n        isCustomer={isCustomer}\n        intl={intl}\n      />\n\n      <LineItemProviderCommissionMaybe\n        transaction={transaction}\n        isProvider={isProvider}\n        intl={intl}\n      />\n      <LineItemProviderCommissionRefundMaybe\n        transaction={transaction}\n        isProvider={isProvider}\n        intl={intl}\n      />\n\n      <hr className={css.totalDivider} />\n      <LineItemTotalPrice transaction={transaction} isProvider={isProvider} intl={intl} />\n      {hasCommissionLineItem ? (\n        <span className={css.feeInfo}>\n          <FormattedMessage id=\"BookingBreakdown.commissionFeeNote\" />\n        </span>\n      ) : null}\n    </div>\n  );\n};\n\nBookingBreakdownComponent.defaultProps = { rootClassName: null, className: null };\n\nBookingBreakdownComponent.propTypes = {\n  rootClassName: string,\n  className: string,\n\n  userRole: oneOf(['customer', 'provider']).isRequired,\n  unitType: propTypes.bookingUnitType.isRequired,\n  transaction: propTypes.transaction.isRequired,\n  booking: propTypes.booking.isRequired,\n\n  // from injectIntl\n  intl: intlShape.isRequired,\n};\n\nconst BookingBreakdown = injectIntl(BookingBreakdownComponent);\n\nBookingBreakdown.displayName = 'BookingBreakdown';\n\nexport default BookingBreakdown;\n"]},"metadata":{},"sourceType":"module"}