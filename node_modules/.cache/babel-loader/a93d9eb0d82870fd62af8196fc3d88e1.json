{"ast":null,"code":"var _jsxFileName = \"/Users/matthewmcelwee/fcprepos/webtest1/flex-template-web/src/components/BookingDateRangeFilter/BookingDateRangeFilter.example.js\";\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { stringify, parse } from '../../util/urlHelpers';\nimport { parseDateFromISO8601, stringifyDateToISO8601 } from '../../util/dates';\nimport BookingDateRangeFilter from './BookingDateRangeFilter';\nconst URL_PARAM = 'dates';\n\nconst handleSubmit = (urlParam, values, history) => {\n  const hasDates = values && values.dates;\n\n  const _ref = hasDates ? values.dates : {},\n        startDate = _ref.startDate,\n        endDate = _ref.endDate;\n\n  const start = startDate ? stringifyDateToISO8601(startDate) : null;\n  const end = endDate ? stringifyDateToISO8601(endDate) : null;\n  const queryParams = start != null && end != null ? \"?\".concat(stringify({\n    [urlParam]: [start, end].join(',')\n  })) : '';\n  history.push(\"\".concat(window.location.pathname).concat(queryParams));\n};\n\nconst BookingDateRangeFilterWrapper = withRouter(props => {\n  const history = props.history,\n        location = props.location;\n  const params = parse(location.search);\n  const dates = params[URL_PARAM];\n  const rawValuesFromParams = !!dates ? dates.split(',') : [];\n  const valuesFromParams = rawValuesFromParams.map(v => parseDateFromISO8601(v));\n  const initialValues = !!dates && valuesFromParams.length === 2 ? {\n    dates: {\n      startDate: valuesFromParams[0],\n      endDate: valuesFromParams[1]\n    }\n  } : {\n    dates: null\n  };\n  return React.createElement(BookingDateRangeFilter, Object.assign({}, props, {\n    initialValues: initialValues,\n    onSubmit: (urlParam, values) => {\n      console.log('Submit BookingDateRangeFilter with (unformatted) values:', values);\n      handleSubmit(urlParam, values, history);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }));\n});\nexport const BookingDateRangeFilterPopup = {\n  component: BookingDateRangeFilterWrapper,\n  props: {\n    id: 'BookingDateRangeFilterPopupExample',\n    urlParam: URL_PARAM,\n    liveEdit: false,\n    showAsPopup: true,\n    contentPlacementOffset: -14 // initialValues: handled inside wrapper\n    // onSubmit: handled inside wrapper\n\n  },\n  group: 'misc'\n};\nexport const BookingDateRangeFilterPlain = {\n  component: BookingDateRangeFilterWrapper,\n  props: {\n    id: 'BookingDateRangeFilterPlainExample',\n    urlParam: URL_PARAM,\n    liveEdit: true,\n    showAsPopup: false,\n    contentPlacementOffset: -14 // initialValues: handled inside wrapper\n    // onSubmit: handled inside wrapper\n\n  },\n  group: 'misc'\n};","map":{"version":3,"sources":["/Users/matthewmcelwee/fcprepos/webtest1/flex-template-web/src/components/BookingDateRangeFilter/BookingDateRangeFilter.example.js"],"names":["React","withRouter","stringify","parse","parseDateFromISO8601","stringifyDateToISO8601","BookingDateRangeFilter","URL_PARAM","handleSubmit","urlParam","values","history","hasDates","dates","startDate","endDate","start","end","queryParams","join","push","window","location","pathname","BookingDateRangeFilterWrapper","props","params","search","rawValuesFromParams","split","valuesFromParams","map","v","initialValues","length","console","log","BookingDateRangeFilterPopup","component","id","liveEdit","showAsPopup","contentPlacementOffset","group","BookingDateRangeFilterPlain"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { stringify, parse } from '../../util/urlHelpers';\nimport { parseDateFromISO8601, stringifyDateToISO8601 } from '../../util/dates';\nimport BookingDateRangeFilter from './BookingDateRangeFilter';\n\nconst URL_PARAM = 'dates';\n\nconst handleSubmit = (urlParam, values, history) => {\n  const hasDates = values && values.dates;\n  const { startDate, endDate } = hasDates ? values.dates : {};\n\n  const start = startDate ? stringifyDateToISO8601(startDate) : null;\n  const end = endDate ? stringifyDateToISO8601(endDate) : null;\n\n  const queryParams =\n    start != null && end != null ? `?${stringify({ [urlParam]: [start, end].join(',') })}` : '';\n  history.push(`${window.location.pathname}${queryParams}`);\n};\n\nconst BookingDateRangeFilterWrapper = withRouter(props => {\n  const { history, location } = props;\n\n  const params = parse(location.search);\n  const dates = params[URL_PARAM];\n  const rawValuesFromParams = !!dates ? dates.split(',') : [];\n  const valuesFromParams = rawValuesFromParams.map(v => parseDateFromISO8601(v));\n  const initialValues =\n    !!dates && valuesFromParams.length === 2\n      ? {\n          dates: { startDate: valuesFromParams[0], endDate: valuesFromParams[1] },\n        }\n      : { dates: null };\n\n  return (\n    <BookingDateRangeFilter\n      {...props}\n      initialValues={initialValues}\n      onSubmit={(urlParam, values) => {\n        console.log('Submit BookingDateRangeFilter with (unformatted) values:', values);\n        handleSubmit(urlParam, values, history);\n      }}\n    />\n  );\n});\n\nexport const BookingDateRangeFilterPopup = {\n  component: BookingDateRangeFilterWrapper,\n  props: {\n    id: 'BookingDateRangeFilterPopupExample',\n    urlParam: URL_PARAM,\n    liveEdit: false,\n    showAsPopup: true,\n    contentPlacementOffset: -14,\n    // initialValues: handled inside wrapper\n    // onSubmit: handled inside wrapper\n  },\n  group: 'misc',\n};\n\nexport const BookingDateRangeFilterPlain = {\n  component: BookingDateRangeFilterWrapper,\n  props: {\n    id: 'BookingDateRangeFilterPlainExample',\n    urlParam: URL_PARAM,\n    liveEdit: true,\n    showAsPopup: false,\n    contentPlacementOffset: -14,\n    // initialValues: handled inside wrapper\n    // onSubmit: handled inside wrapper\n  },\n  group: 'misc',\n};\n"]},"metadata":{},"sourceType":"module"}