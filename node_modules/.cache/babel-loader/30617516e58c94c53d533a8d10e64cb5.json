{"ast":null,"code":"import _objectSpread from \"/Users/matthewmcelwee/fcprepos/webtest1/flex-template-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { createStripeAccount } from '../../ducks/stripe.duck';\nimport { fetchCurrentUser } from '../../ducks/user.duck'; // ================ Action types ================ //\n\nexport const SET_INITIAL_STATE = 'app/PayoutPreferencesPage/SET_INITIAL_STATE';\nexport const SAVE_PAYOUT_DETAILS_REQUEST = 'app/PayoutPreferencesPage/SAVE_PAYOUT_DETAILS_REQUEST';\nexport const SAVE_PAYOUT_DETAILS_SUCCESS = 'app/PayoutPreferencesPage/SAVE_PAYOUT_DETAILS_SUCCESS';\nexport const SAVE_PAYOUT_DETAILS_ERROR = 'app/PayoutPreferencesPage/SAVE_PAYOUT_DETAILS_ERROR'; // ================ Reducer ================ //\n\nconst initialState = {\n  payoutDetailsSaveInProgress: false,\n  payoutDetailsSaved: false\n};\nexport default function payoutPreferencesPageReducer(state = initialState, action = {}) {\n  const type = action.type;\n\n  switch (type) {\n    case SET_INITIAL_STATE:\n      return initialState;\n\n    case SAVE_PAYOUT_DETAILS_REQUEST:\n      return _objectSpread({}, state, {\n        payoutDetailsSaveInProgress: true\n      });\n\n    case SAVE_PAYOUT_DETAILS_ERROR:\n      return _objectSpread({}, state, {\n        payoutDetailsSaveInProgress: false\n      });\n\n    case SAVE_PAYOUT_DETAILS_SUCCESS:\n      return _objectSpread({}, state, {\n        payoutDetailsSaveInProgress: false,\n        payoutDetailsSaved: true\n      });\n\n    default:\n      return state;\n  }\n} // ================ Action creators ================ //\n\nexport const setInitialState = () => ({\n  type: SET_INITIAL_STATE\n});\nexport const savePayoutDetailsRequest = () => ({\n  type: SAVE_PAYOUT_DETAILS_REQUEST\n});\nexport const savePayoutDetailsError = () => ({\n  type: SAVE_PAYOUT_DETAILS_ERROR\n});\nexport const savePayoutDetailsSuccess = () => ({\n  type: SAVE_PAYOUT_DETAILS_SUCCESS\n}); // ================ Thunks ================ //\n\nexport const savePayoutDetails = values => (dispatch, getState, sdk) => {\n  dispatch(savePayoutDetailsRequest());\n  return dispatch(createStripeAccount(values)).then(() => dispatch(savePayoutDetailsSuccess())).catch(() => dispatch(savePayoutDetailsError()));\n};\nexport const loadData = () => (dispatch, getState, sdk) => {\n  // Clear state so that previously loaded data is not visible\n  // in case this page load fails.\n  dispatch(setInitialState());\n  return dispatch(fetchCurrentUser());\n};","map":{"version":3,"sources":["/Users/matthewmcelwee/fcprepos/webtest1/flex-template-web/src/containers/PayoutPreferencesPage/PayoutPreferencesPage.duck.js"],"names":["createStripeAccount","fetchCurrentUser","SET_INITIAL_STATE","SAVE_PAYOUT_DETAILS_REQUEST","SAVE_PAYOUT_DETAILS_SUCCESS","SAVE_PAYOUT_DETAILS_ERROR","initialState","payoutDetailsSaveInProgress","payoutDetailsSaved","payoutPreferencesPageReducer","state","action","type","setInitialState","savePayoutDetailsRequest","savePayoutDetailsError","savePayoutDetailsSuccess","savePayoutDetails","values","dispatch","getState","sdk","then","catch","loadData"],"mappings":";AAAA,SAASA,mBAAT,QAAoC,yBAApC;AACA,SAASC,gBAAT,QAAiC,uBAAjC,C,CAEA;;AAEA,OAAO,MAAMC,iBAAiB,GAAG,6CAA1B;AACP,OAAO,MAAMC,2BAA2B,GAAG,uDAApC;AACP,OAAO,MAAMC,2BAA2B,GAAG,uDAApC;AACP,OAAO,MAAMC,yBAAyB,GAAG,qDAAlC,C,CAEP;;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,2BAA2B,EAAE,KADV;AAEnBC,EAAAA,kBAAkB,EAAE;AAFD,CAArB;AAKA,eAAe,SAASC,4BAAT,CAAsCC,KAAK,GAAGJ,YAA9C,EAA4DK,MAAM,GAAG,EAArE,EAAyE;AAAA,QAC9EC,IAD8E,GACrED,MADqE,CAC9EC,IAD8E;;AAEtF,UAAQA,IAAR;AACE,SAAKV,iBAAL;AACE,aAAOI,YAAP;;AAEF,SAAKH,2BAAL;AACE,+BAAYO,KAAZ;AAAmBH,QAAAA,2BAA2B,EAAE;AAAhD;;AACF,SAAKF,yBAAL;AACE,+BAAYK,KAAZ;AAAmBH,QAAAA,2BAA2B,EAAE;AAAhD;;AACF,SAAKH,2BAAL;AACE,+BAAYM,KAAZ;AAAmBH,QAAAA,2BAA2B,EAAE,KAAhD;AAAuDC,QAAAA,kBAAkB,EAAE;AAA3E;;AAEF;AACE,aAAOE,KAAP;AAZJ;AAcD,C,CAED;;AAEA,OAAO,MAAMG,eAAe,GAAG,OAAO;AACpCD,EAAAA,IAAI,EAAEV;AAD8B,CAAP,CAAxB;AAIP,OAAO,MAAMY,wBAAwB,GAAG,OAAO;AAC7CF,EAAAA,IAAI,EAAET;AADuC,CAAP,CAAjC;AAGP,OAAO,MAAMY,sBAAsB,GAAG,OAAO;AAC3CH,EAAAA,IAAI,EAAEP;AADqC,CAAP,CAA/B;AAGP,OAAO,MAAMW,wBAAwB,GAAG,OAAO;AAC7CJ,EAAAA,IAAI,EAAER;AADuC,CAAP,CAAjC,C,CAIP;;AAEA,OAAO,MAAMa,iBAAiB,GAAGC,MAAM,IAAI,CAACC,QAAD,EAAWC,QAAX,EAAqBC,GAArB,KAA6B;AACtEF,EAAAA,QAAQ,CAACL,wBAAwB,EAAzB,CAAR;AAEA,SAAOK,QAAQ,CAACnB,mBAAmB,CAACkB,MAAD,CAApB,CAAR,CACJI,IADI,CACC,MAAMH,QAAQ,CAACH,wBAAwB,EAAzB,CADf,EAEJO,KAFI,CAEE,MAAMJ,QAAQ,CAACJ,sBAAsB,EAAvB,CAFhB,CAAP;AAGD,CANM;AAQP,OAAO,MAAMS,QAAQ,GAAG,MAAM,CAACL,QAAD,EAAWC,QAAX,EAAqBC,GAArB,KAA6B;AACzD;AACA;AACAF,EAAAA,QAAQ,CAACN,eAAe,EAAhB,CAAR;AAEA,SAAOM,QAAQ,CAAClB,gBAAgB,EAAjB,CAAf;AACD,CANM","sourcesContent":["import { createStripeAccount } from '../../ducks/stripe.duck';\nimport { fetchCurrentUser } from '../../ducks/user.duck';\n\n// ================ Action types ================ //\n\nexport const SET_INITIAL_STATE = 'app/PayoutPreferencesPage/SET_INITIAL_STATE';\nexport const SAVE_PAYOUT_DETAILS_REQUEST = 'app/PayoutPreferencesPage/SAVE_PAYOUT_DETAILS_REQUEST';\nexport const SAVE_PAYOUT_DETAILS_SUCCESS = 'app/PayoutPreferencesPage/SAVE_PAYOUT_DETAILS_SUCCESS';\nexport const SAVE_PAYOUT_DETAILS_ERROR = 'app/PayoutPreferencesPage/SAVE_PAYOUT_DETAILS_ERROR';\n\n// ================ Reducer ================ //\n\nconst initialState = {\n  payoutDetailsSaveInProgress: false,\n  payoutDetailsSaved: false,\n};\n\nexport default function payoutPreferencesPageReducer(state = initialState, action = {}) {\n  const { type } = action;\n  switch (type) {\n    case SET_INITIAL_STATE:\n      return initialState;\n\n    case SAVE_PAYOUT_DETAILS_REQUEST:\n      return { ...state, payoutDetailsSaveInProgress: true };\n    case SAVE_PAYOUT_DETAILS_ERROR:\n      return { ...state, payoutDetailsSaveInProgress: false };\n    case SAVE_PAYOUT_DETAILS_SUCCESS:\n      return { ...state, payoutDetailsSaveInProgress: false, payoutDetailsSaved: true };\n\n    default:\n      return state;\n  }\n}\n\n// ================ Action creators ================ //\n\nexport const setInitialState = () => ({\n  type: SET_INITIAL_STATE,\n});\n\nexport const savePayoutDetailsRequest = () => ({\n  type: SAVE_PAYOUT_DETAILS_REQUEST,\n});\nexport const savePayoutDetailsError = () => ({\n  type: SAVE_PAYOUT_DETAILS_ERROR,\n});\nexport const savePayoutDetailsSuccess = () => ({\n  type: SAVE_PAYOUT_DETAILS_SUCCESS,\n});\n\n// ================ Thunks ================ //\n\nexport const savePayoutDetails = values => (dispatch, getState, sdk) => {\n  dispatch(savePayoutDetailsRequest());\n\n  return dispatch(createStripeAccount(values))\n    .then(() => dispatch(savePayoutDetailsSuccess()))\n    .catch(() => dispatch(savePayoutDetailsError()));\n};\n\nexport const loadData = () => (dispatch, getState, sdk) => {\n  // Clear state so that previously loaded data is not visible\n  // in case this page load fails.\n  dispatch(setInitialState());\n\n  return dispatch(fetchCurrentUser());\n};\n"]},"metadata":{},"sourceType":"module"}