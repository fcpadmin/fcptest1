{"ast":null,"code":"var _jsxFileName = \"/Users/matthewmcelwee/fcprepos/webtest1/flex-template-web/src/forms/PayoutDetailsForm/PayoutDetailsAdditionalPersons.js\";\nimport React from 'react';\nimport { bool, func, object, string } from 'prop-types';\nimport { FormattedMessage, intlShape } from 'react-intl';\nimport { FieldArray } from 'react-final-form-arrays';\nimport { ExternalLink, IconAdd, IconClose, InlineTextButton } from '../../components';\nimport PayoutDetailsAddress from './PayoutDetailsAddress';\nimport PayoutDetailsPersonalDetails from './PayoutDetailsPersonalDetails';\nimport css from './PayoutDetailsForm.css';\n\nconst PayoutDetailsAdditionalPersons = props => {\n  const fieldId = props.fieldId,\n        country = props.country,\n        disabled = props.disabled,\n        form = props.form,\n        intl = props.intl,\n        push = props.push,\n        showEmailField = props.showEmailField,\n        showOrganizationTitleField = props.showOrganizationTitleField,\n        showOwnerField = props.showOwnerField,\n        showPersonalAddressField = props.showPersonalAddressField,\n        showPersonalIdNumberField = props.showPersonalIdNumberField,\n        showPhoneNumberField = props.showPhoneNumberField,\n        values = props.values;\n  const additionalPersonInfoLink = React.createElement(ExternalLink, {\n    href: \"https://support.stripe.com/questions/owners-and-directors\",\n    className: css.termsLink,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(FormattedMessage, {\n    id: \"PayoutDetailsForm.additionalPersonInfoLink\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }));\n\n  const showOwnershipPercentageField = index => showOwnerField && values && values[fieldId] && values[fieldId][index] && values[fieldId][index].role && values[fieldId][index].role.find(r => r === 'owner');\n\n  return React.createElement(\"div\", {\n    className: css.additionalPersonsWrapper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(FieldArray, {\n    id: \"\".concat(fieldId),\n    name: \"\".concat(fieldId),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, ({\n    fields\n  }) => fields.map((name, index) => React.createElement(\"div\", {\n    className: css.additionalPersonWrapper,\n    key: name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: css.fieldArrayRemove,\n    onClick: () => fields.remove(index),\n    style: {\n      cursor: 'pointer'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: css.additionalPersonLabel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(IconClose, {\n    rootClassName: css.closeIcon,\n    size: \"small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), React.createElement(FormattedMessage, {\n    id: \"PayoutDetailsForm.additionalPersonRemove\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }))), React.createElement(PayoutDetailsPersonalDetails, {\n    intl: intl,\n    disabled: disabled,\n    values: values,\n    country: country,\n    fieldId: \"\".concat(fieldId, \".\").concat(index),\n    accountType: \"company\",\n    sectionTitle: intl.formatMessage({\n      id: 'PayoutDetailsForm.additionalPersonTitle'\n    }),\n    showEmailField: showEmailField,\n    showOrganizationTitleField: showOrganizationTitleField,\n    showOwnerField: showOwnerField,\n    showOwnershipPercentageField: !!showOwnershipPercentageField(index),\n    showPersonalIdNumberField: showPersonalIdNumberField,\n    showPhoneNumberField: showPhoneNumberField,\n    showRoleField: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), showPersonalAddressField ? React.createElement(PayoutDetailsAddress, {\n    className: css.personalAddressContainer,\n    country: country,\n    intl: intl,\n    disabled: disabled,\n    form: form,\n    fieldId: \"\".concat(fieldId, \".\").concat(index, \".address\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }) : null))), React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(InlineTextButton, {\n    type: \"button\",\n    rootClassName: css.fieldArrayAdd,\n    onClick: () => push(fieldId, undefined),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: css.additionalPersonLabel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(IconAdd, {\n    rootClassName: css.addIcon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }), React.createElement(FormattedMessage, {\n    id: \"PayoutDetailsForm.additionalPersonLink\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }))), React.createElement(\"p\", {\n    className: css.additionalPersonInfo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(FormattedMessage, {\n    id: \"PayoutDetailsForm.additionalPersonInfoText\",\n    values: {\n      additionalPersonInfoLink\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }))));\n};\n\nPayoutDetailsAdditionalPersons.defaultProps = {\n  disabled: false,\n  showEmailField: false,\n  showOrganizationTitleField: false,\n  showOwnerField: false,\n  showPersonalAddressField: false,\n  showPersonalIdNumberField: false,\n  showPhoneNumberField: false,\n  values: null\n};\nPayoutDetailsAdditionalPersons.propTypes = {\n  country: string.isRequired,\n  fieldId: string.isRequired,\n  form: object.isRequired,\n  push: func.isRequired,\n  disabled: bool,\n  showEmailField: bool,\n  showOrganizationTitleField: bool,\n  showOwnerField: bool,\n  showPersonalAddressField: bool,\n  showPersonalIdNumberField: bool,\n  showPhoneNumberField: bool,\n  values: object,\n  // from parent\n  intl: intlShape.isRequired\n};\nexport default PayoutDetailsAdditionalPersons;","map":{"version":3,"sources":["/Users/matthewmcelwee/fcprepos/webtest1/flex-template-web/src/forms/PayoutDetailsForm/PayoutDetailsAdditionalPersons.js"],"names":["React","bool","func","object","string","FormattedMessage","intlShape","FieldArray","ExternalLink","IconAdd","IconClose","InlineTextButton","PayoutDetailsAddress","PayoutDetailsPersonalDetails","css","PayoutDetailsAdditionalPersons","props","fieldId","country","disabled","form","intl","push","showEmailField","showOrganizationTitleField","showOwnerField","showPersonalAddressField","showPersonalIdNumberField","showPhoneNumberField","values","additionalPersonInfoLink","termsLink","showOwnershipPercentageField","index","role","find","r","additionalPersonsWrapper","fields","map","name","additionalPersonWrapper","fieldArrayRemove","remove","cursor","additionalPersonLabel","closeIcon","formatMessage","id","personalAddressContainer","fieldArrayAdd","undefined","addIcon","additionalPersonInfo","defaultProps","propTypes","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { bool, func, object, string } from 'prop-types';\nimport { FormattedMessage, intlShape } from 'react-intl';\nimport { FieldArray } from 'react-final-form-arrays';\nimport { ExternalLink, IconAdd, IconClose, InlineTextButton } from '../../components';\n\nimport PayoutDetailsAddress from './PayoutDetailsAddress';\nimport PayoutDetailsPersonalDetails from './PayoutDetailsPersonalDetails';\n\nimport css from './PayoutDetailsForm.css';\n\nconst PayoutDetailsAdditionalPersons = props => {\n  const {\n    fieldId,\n    country,\n    disabled,\n    form,\n    intl,\n    push,\n    showEmailField,\n    showOrganizationTitleField,\n    showOwnerField,\n    showPersonalAddressField,\n    showPersonalIdNumberField,\n    showPhoneNumberField,\n    values,\n  } = props;\n\n  const additionalPersonInfoLink = (\n    <ExternalLink\n      href=\"https://support.stripe.com/questions/owners-and-directors\"\n      className={css.termsLink}\n    >\n      <FormattedMessage id=\"PayoutDetailsForm.additionalPersonInfoLink\" />\n    </ExternalLink>\n  );\n\n  const showOwnershipPercentageField = index =>\n    showOwnerField &&\n    values &&\n    values[fieldId] &&\n    values[fieldId][index] &&\n    values[fieldId][index].role &&\n    values[fieldId][index].role.find(r => r === 'owner');\n\n  return (\n    <div className={css.additionalPersonsWrapper}>\n      <FieldArray id={`${fieldId}`} name={`${fieldId}`}>\n        {({ fields }) =>\n          fields.map((name, index) => (\n            <div className={css.additionalPersonWrapper} key={name}>\n              <div\n                className={css.fieldArrayRemove}\n                onClick={() => fields.remove(index)}\n                style={{ cursor: 'pointer' }}\n              >\n                <span className={css.additionalPersonLabel}>\n                  <IconClose rootClassName={css.closeIcon} size=\"small\" />\n                  <FormattedMessage id=\"PayoutDetailsForm.additionalPersonRemove\" />\n                </span>\n              </div>\n              <PayoutDetailsPersonalDetails\n                intl={intl}\n                disabled={disabled}\n                values={values}\n                country={country}\n                fieldId={`${fieldId}.${index}`}\n                accountType=\"company\"\n                sectionTitle={intl.formatMessage({ id: 'PayoutDetailsForm.additionalPersonTitle' })}\n                showEmailField={showEmailField}\n                showOrganizationTitleField={showOrganizationTitleField}\n                showOwnerField={showOwnerField}\n                showOwnershipPercentageField={!!showOwnershipPercentageField(index)}\n                showPersonalIdNumberField={showPersonalIdNumberField}\n                showPhoneNumberField={showPhoneNumberField}\n                showRoleField\n              />\n              {showPersonalAddressField ? (\n                <PayoutDetailsAddress\n                  className={css.personalAddressContainer}\n                  country={country}\n                  intl={intl}\n                  disabled={disabled}\n                  form={form}\n                  fieldId={`${fieldId}.${index}.address`}\n                />\n              ) : null}\n            </div>\n          ))\n        }\n      </FieldArray>\n\n      <React.Fragment>\n        <InlineTextButton\n          type=\"button\"\n          rootClassName={css.fieldArrayAdd}\n          onClick={() => push(fieldId, undefined)}\n        >\n          <span className={css.additionalPersonLabel}>\n            <IconAdd rootClassName={css.addIcon} />\n            <FormattedMessage id=\"PayoutDetailsForm.additionalPersonLink\" />\n          </span>\n        </InlineTextButton>\n        <p className={css.additionalPersonInfo}>\n          <FormattedMessage\n            id=\"PayoutDetailsForm.additionalPersonInfoText\"\n            values={{ additionalPersonInfoLink }}\n          />\n        </p>\n      </React.Fragment>\n    </div>\n  );\n};\n\nPayoutDetailsAdditionalPersons.defaultProps = {\n  disabled: false,\n  showEmailField: false,\n  showOrganizationTitleField: false,\n  showOwnerField: false,\n  showPersonalAddressField: false,\n  showPersonalIdNumberField: false,\n  showPhoneNumberField: false,\n  values: null,\n};\n\nPayoutDetailsAdditionalPersons.propTypes = {\n  country: string.isRequired,\n  fieldId: string.isRequired,\n  form: object.isRequired,\n  push: func.isRequired,\n  disabled: bool,\n  showEmailField: bool,\n  showOrganizationTitleField: bool,\n  showOwnerField: bool,\n  showPersonalAddressField: bool,\n  showPersonalIdNumberField: bool,\n  showPhoneNumberField: bool,\n  values: object,\n\n  // from parent\n  intl: intlShape.isRequired,\n};\n\nexport default PayoutDetailsAdditionalPersons;\n"]},"metadata":{},"sourceType":"module"}