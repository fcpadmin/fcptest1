{"ast":null,"code":"var _jsxFileName = \"/Users/matthewmcelwee/fcprepos/webtest1/flex-template-web/src/components/EditListingPricingPanel/EditListingPricingPanel.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { FormattedMessage } from 'react-intl';\nimport { LISTING_STATE_DRAFT } from '../../util/types';\nimport { ListingLink } from '../../components';\nimport { EditListingPricingForm } from '../../forms';\nimport { ensureOwnListing } from '../../util/data';\nimport { types as sdkTypes } from '../../util/sdkLoader';\nimport config from '../../config';\nimport css from './EditListingPricingPanel.css';\nconst Money = sdkTypes.Money;\n\nconst EditListingPricingPanel = props => {\n  const className = props.className,\n        rootClassName = props.rootClassName,\n        listing = props.listing,\n        onSubmit = props.onSubmit,\n        onChange = props.onChange,\n        submitButtonText = props.submitButtonText,\n        panelUpdated = props.panelUpdated,\n        updateInProgress = props.updateInProgress,\n        errors = props.errors;\n  const classes = classNames(rootClassName || css.root, className);\n  const currentListing = ensureOwnListing(listing);\n  const price = currentListing.attributes.price;\n  const isPublished = currentListing.id && currentListing.attributes.state !== LISTING_STATE_DRAFT;\n  const panelTitle = isPublished ? React.createElement(FormattedMessage, {\n    id: \"EditListingPricingPanel.title\",\n    values: {\n      listingTitle: React.createElement(ListingLink, {\n        listing: listing,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      })\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }) : React.createElement(FormattedMessage, {\n    id: \"EditListingPricingPanel.createListingTitle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  });\n  const priceCurrencyValid = price instanceof Money ? price.currency === config.currency : true;\n  const form = priceCurrencyValid ? React.createElement(EditListingPricingForm, {\n    className: css.form,\n    initialValues: {\n      price\n    },\n    onSubmit: onSubmit,\n    onChange: onChange,\n    saveActionMsg: submitButtonText,\n    updated: panelUpdated,\n    updateInProgress: updateInProgress,\n    fetchErrors: errors,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }) : React.createElement(\"div\", {\n    className: css.priceCurrencyInvalid,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(FormattedMessage, {\n    id: \"EditListingPricingPanel.listingPriceCurrencyInvalid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }));\n  return React.createElement(\"div\", {\n    className: classes,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: css.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, panelTitle), form);\n};\n\nconst func = PropTypes.func,\n      object = PropTypes.object,\n      string = PropTypes.string,\n      bool = PropTypes.bool;\nEditListingPricingPanel.defaultProps = {\n  className: null,\n  rootClassName: null,\n  listing: null\n};\nEditListingPricingPanel.propTypes = {\n  className: string,\n  rootClassName: string,\n  // We cannot use propTypes.listing since the listing might be a draft.\n  listing: object,\n  onSubmit: func.isRequired,\n  onChange: func.isRequired,\n  submitButtonText: string.isRequired,\n  panelUpdated: bool.isRequired,\n  updateInProgress: bool.isRequired,\n  errors: object.isRequired\n};\nexport default EditListingPricingPanel;","map":{"version":3,"sources":["/Users/matthewmcelwee/fcprepos/webtest1/flex-template-web/src/components/EditListingPricingPanel/EditListingPricingPanel.js"],"names":["React","PropTypes","classNames","FormattedMessage","LISTING_STATE_DRAFT","ListingLink","EditListingPricingForm","ensureOwnListing","types","sdkTypes","config","css","Money","EditListingPricingPanel","props","className","rootClassName","listing","onSubmit","onChange","submitButtonText","panelUpdated","updateInProgress","errors","classes","root","currentListing","price","attributes","isPublished","id","state","panelTitle","listingTitle","priceCurrencyValid","currency","form","priceCurrencyInvalid","title","func","object","string","bool","defaultProps","propTypes","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { FormattedMessage } from 'react-intl';\nimport { LISTING_STATE_DRAFT } from '../../util/types';\nimport { ListingLink } from '../../components';\nimport { EditListingPricingForm } from '../../forms';\nimport { ensureOwnListing } from '../../util/data';\nimport { types as sdkTypes } from '../../util/sdkLoader';\nimport config from '../../config';\n\nimport css from './EditListingPricingPanel.css';\n\nconst { Money } = sdkTypes;\n\nconst EditListingPricingPanel = props => {\n  const {\n    className,\n    rootClassName,\n    listing,\n    onSubmit,\n    onChange,\n    submitButtonText,\n    panelUpdated,\n    updateInProgress,\n    errors,\n  } = props;\n\n  const classes = classNames(rootClassName || css.root, className);\n  const currentListing = ensureOwnListing(listing);\n  const { price } = currentListing.attributes;\n\n  const isPublished = currentListing.id && currentListing.attributes.state !== LISTING_STATE_DRAFT;\n  const panelTitle = isPublished ? (\n    <FormattedMessage\n      id=\"EditListingPricingPanel.title\"\n      values={{ listingTitle: <ListingLink listing={listing} /> }}\n    />\n  ) : (\n    <FormattedMessage id=\"EditListingPricingPanel.createListingTitle\" />\n  );\n\n  const priceCurrencyValid = price instanceof Money ? price.currency === config.currency : true;\n  const form = priceCurrencyValid ? (\n    <EditListingPricingForm\n      className={css.form}\n      initialValues={{ price }}\n      onSubmit={onSubmit}\n      onChange={onChange}\n      saveActionMsg={submitButtonText}\n      updated={panelUpdated}\n      updateInProgress={updateInProgress}\n      fetchErrors={errors}\n    />\n  ) : (\n    <div className={css.priceCurrencyInvalid}>\n      <FormattedMessage id=\"EditListingPricingPanel.listingPriceCurrencyInvalid\" />\n    </div>\n  );\n\n  return (\n    <div className={classes}>\n      <h1 className={css.title}>{panelTitle}</h1>\n      {form}\n    </div>\n  );\n};\n\nconst { func, object, string, bool } = PropTypes;\n\nEditListingPricingPanel.defaultProps = {\n  className: null,\n  rootClassName: null,\n  listing: null,\n};\n\nEditListingPricingPanel.propTypes = {\n  className: string,\n  rootClassName: string,\n\n  // We cannot use propTypes.listing since the listing might be a draft.\n  listing: object,\n\n  onSubmit: func.isRequired,\n  onChange: func.isRequired,\n  submitButtonText: string.isRequired,\n  panelUpdated: bool.isRequired,\n  updateInProgress: bool.isRequired,\n  errors: object.isRequired,\n};\n\nexport default EditListingPricingPanel;\n"]},"metadata":{},"sourceType":"module"}