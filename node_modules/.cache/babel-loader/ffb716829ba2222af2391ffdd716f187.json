{"ast":null,"code":"import _objectWithoutProperties from \"/Users/matthewmcelwee/fcprepos/webtest1/flex-template-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/matthewmcelwee/fcprepos/webtest1/flex-template-web/src/components/EditListingPhotosPanel/EditListingPhotosPanel.js\";\nimport React, { Component } from 'react';\nimport { array, bool, func, object, string } from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport classNames from 'classnames';\nimport { LISTING_STATE_DRAFT } from '../../util/types';\nimport { EditListingPhotosForm } from '../../forms';\nimport { ensureOwnListing } from '../../util/data';\nimport { ListingLink } from '../../components';\nimport css from './EditListingPhotosPanel.css';\n\nclass EditListingPhotosPanel extends Component {\n  render() {\n    const _this$props = this.props,\n          className = _this$props.className,\n          rootClassName = _this$props.rootClassName,\n          errors = _this$props.errors,\n          fetchInProgress = _this$props.fetchInProgress,\n          newListingPublished = _this$props.newListingPublished,\n          images = _this$props.images,\n          listing = _this$props.listing,\n          onImageUpload = _this$props.onImageUpload,\n          onUpdateImageOrder = _this$props.onUpdateImageOrder,\n          submitButtonText = _this$props.submitButtonText,\n          panelUpdated = _this$props.panelUpdated,\n          updateInProgress = _this$props.updateInProgress,\n          onChange = _this$props.onChange,\n          onSubmit = _this$props.onSubmit,\n          onRemoveImage = _this$props.onRemoveImage;\n    const rootClass = rootClassName || css.root;\n    const classes = classNames(rootClass, className);\n    const currentListing = ensureOwnListing(listing);\n    const isPublished = currentListing.id && currentListing.attributes.state !== LISTING_STATE_DRAFT;\n    const panelTitle = isPublished ? React.createElement(FormattedMessage, {\n      id: \"EditListingPhotosPanel.title\",\n      values: {\n        listingTitle: React.createElement(ListingLink, {\n          listing: listing,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        })\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }) : React.createElement(FormattedMessage, {\n      id: \"EditListingPhotosPanel.createListingTitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    });\n    return React.createElement(\"div\", {\n      className: classes,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: css.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, panelTitle), React.createElement(EditListingPhotosForm, {\n      className: css.form,\n      disabled: fetchInProgress,\n      ready: newListingPublished,\n      fetchErrors: errors,\n      initialValues: {\n        images\n      },\n      images: images,\n      onImageUpload: onImageUpload,\n      onSubmit: values => {\n        const addImage = values.addImage,\n              updateValues = _objectWithoutProperties(values, [\"addImage\"]);\n\n        onSubmit(updateValues);\n      },\n      onChange: onChange,\n      onUpdateImageOrder: onUpdateImageOrder,\n      onRemoveImage: onRemoveImage,\n      saveActionMsg: submitButtonText,\n      updated: panelUpdated,\n      updateInProgress: updateInProgress,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }));\n  }\n\n}\n\nEditListingPhotosPanel.defaultProps = {\n  className: null,\n  rootClassName: null,\n  errors: null,\n  images: [],\n  listing: null\n};\nEditListingPhotosPanel.propTypes = {\n  className: string,\n  rootClassName: string,\n  errors: object,\n  fetchInProgress: bool.isRequired,\n  newListingPublished: bool.isRequired,\n  images: array,\n  // We cannot use propTypes.listing since the listing might be a draft.\n  listing: object,\n  onImageUpload: func.isRequired,\n  onUpdateImageOrder: func.isRequired,\n  onSubmit: func.isRequired,\n  onChange: func.isRequired,\n  submitButtonText: string.isRequired,\n  panelUpdated: bool.isRequired,\n  updateInProgress: bool.isRequired,\n  onRemoveImage: func.isRequired\n};\nexport default EditListingPhotosPanel;","map":{"version":3,"sources":["/Users/matthewmcelwee/fcprepos/webtest1/flex-template-web/src/components/EditListingPhotosPanel/EditListingPhotosPanel.js"],"names":["React","Component","array","bool","func","object","string","FormattedMessage","classNames","LISTING_STATE_DRAFT","EditListingPhotosForm","ensureOwnListing","ListingLink","css","EditListingPhotosPanel","render","props","className","rootClassName","errors","fetchInProgress","newListingPublished","images","listing","onImageUpload","onUpdateImageOrder","submitButtonText","panelUpdated","updateInProgress","onChange","onSubmit","onRemoveImage","rootClass","root","classes","currentListing","isPublished","id","attributes","state","panelTitle","listingTitle","title","form","values","addImage","updateValues","defaultProps","propTypes","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { array, bool, func, object, string } from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport classNames from 'classnames';\nimport { LISTING_STATE_DRAFT } from '../../util/types';\nimport { EditListingPhotosForm } from '../../forms';\nimport { ensureOwnListing } from '../../util/data';\nimport { ListingLink } from '../../components';\n\nimport css from './EditListingPhotosPanel.css';\n\nclass EditListingPhotosPanel extends Component {\n  render() {\n    const {\n      className,\n      rootClassName,\n      errors,\n      fetchInProgress,\n      newListingPublished,\n      images,\n      listing,\n      onImageUpload,\n      onUpdateImageOrder,\n      submitButtonText,\n      panelUpdated,\n      updateInProgress,\n      onChange,\n      onSubmit,\n      onRemoveImage,\n    } = this.props;\n\n    const rootClass = rootClassName || css.root;\n    const classes = classNames(rootClass, className);\n    const currentListing = ensureOwnListing(listing);\n\n    const isPublished =\n      currentListing.id && currentListing.attributes.state !== LISTING_STATE_DRAFT;\n    const panelTitle = isPublished ? (\n      <FormattedMessage\n        id=\"EditListingPhotosPanel.title\"\n        values={{ listingTitle: <ListingLink listing={listing} /> }}\n      />\n    ) : (\n      <FormattedMessage id=\"EditListingPhotosPanel.createListingTitle\" />\n    );\n\n    return (\n      <div className={classes}>\n        <h1 className={css.title}>{panelTitle}</h1>\n        <EditListingPhotosForm\n          className={css.form}\n          disabled={fetchInProgress}\n          ready={newListingPublished}\n          fetchErrors={errors}\n          initialValues={{ images }}\n          images={images}\n          onImageUpload={onImageUpload}\n          onSubmit={values => {\n            const { addImage, ...updateValues } = values;\n            onSubmit(updateValues);\n          }}\n          onChange={onChange}\n          onUpdateImageOrder={onUpdateImageOrder}\n          onRemoveImage={onRemoveImage}\n          saveActionMsg={submitButtonText}\n          updated={panelUpdated}\n          updateInProgress={updateInProgress}\n        />\n      </div>\n    );\n  }\n}\n\nEditListingPhotosPanel.defaultProps = {\n  className: null,\n  rootClassName: null,\n  errors: null,\n  images: [],\n  listing: null,\n};\n\nEditListingPhotosPanel.propTypes = {\n  className: string,\n  rootClassName: string,\n  errors: object,\n  fetchInProgress: bool.isRequired,\n  newListingPublished: bool.isRequired,\n  images: array,\n\n  // We cannot use propTypes.listing since the listing might be a draft.\n  listing: object,\n\n  onImageUpload: func.isRequired,\n  onUpdateImageOrder: func.isRequired,\n  onSubmit: func.isRequired,\n  onChange: func.isRequired,\n  submitButtonText: string.isRequired,\n  panelUpdated: bool.isRequired,\n  updateInProgress: bool.isRequired,\n  onRemoveImage: func.isRequired,\n};\n\nexport default EditListingPhotosPanel;\n"]},"metadata":{},"sourceType":"module"}